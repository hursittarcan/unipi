<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Understanding Recursion</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
<div class="container">
    <header>
        <div class="theme-toggle">
            <button id="theme-toggle-btn">
                <span class="toggle-icon light">‚òÄÔ∏è</span>
                <span class="toggle-icon dark">üåô</span>
            </button>
        </div>
        <h1>Understanding <span class="highlight">Recursion</span></h1>
        <p class="subtitle">A step-by-step guide to recursive thinking</p>
    </header>

    <main>
        <section class="intro">
            <div class="card">
                <h2>What is Recursion?</h2>
                <p>Recursion is a programming technique where a function calls itself to solve a problem by breaking it down into smaller, similar subproblems.</p>

                <div class="recursion-joke">
                    <p>To understand recursion, you must first understand recursion.</p>
                    <div class="joke-attribution">‚Äî Programmer Humor</div>
                </div>

                <div class="key-concepts">
                    <div class="concept">
                        <h3>Base Case</h3>
                        <p>The condition that stops the recursion</p>
                    </div>
                    <div class="concept">
                        <h3>Recursive Case</h3>
                        <p>The part where the function calls itself</p>
                    </div>
                    <div class="concept">
                        <h3>Call Stack</h3>
                        <p>Memory used to keep track of function calls</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="examples">
            <div class="card">
                <h2>Classic Example: Factorial</h2>
                <div class="code-container">
            <pre><code>def factorial(n):
    # Base case
    if n == 0 or n == 1:
        return 1

    # Recursive case
    return n * factorial(n - 1)</code></pre>
                </div>

                <div class="visualization">
                    <h3>Visualization of factorial(4)</h3>
                    <div id="factorial-viz" class="viz-container">
                        <!-- Visualization will be rendered here by JavaScript -->
                    </div>
                </div>

                <div class="explanation">
                    <p>When calculating factorial(4):</p>
                    <ol>
                        <li>Is 4 equal to 0 or 1? No, so we use the recursive case.</li>
                        <li>We calculate 4 * factorial(3)</li>
                        <li>To find factorial(3), we calculate 3 * factorial(2)</li>
                        <li>To find factorial(2), we calculate 2 * factorial(1)</li>
                        <li>factorial(1) is our base case, which returns 1</li>
                        <li>Now we can work backwards: 2 * 1 = 2</li>
                        <li>Then 3 * 2 = 6</li>
                        <li>Finally 4 * 6 = 24</li>
                    </ol>
                    <p>So factorial(4) = 24</p>
                </div>
            </div>
        </section>

        <section class="interactive">
            <div class="card">
                <h2>Try It Yourself: Fibonacci Sequence</h2>
                <p>The Fibonacci sequence is defined as: F(n) = F(n-1) + F(n-2) with base cases F(0) = 0 and F(1) = 1.</p>

                <div class="code-editor-container">
            <textarea id="code-editor" spellcheck="false">def fibonacci(n):
    # Your recursive solution here
    pass</textarea>

                    <div class="test-panel">
                        <div class="test-input">
                            <label for="test-number">Calculate F(n) where n =</label>
                            <input type="number" id="test-number" min="0" max="20" value="6">
                            <button id="test-btn">Test</button>
                        </div>
                        <div id="test-result" class="test-result"></div>
                        <button id="hint-btn">Show Hint</button>
                        <div id="hint-text" class="hint hidden">
                            <p>Remember to include your base cases (n=0 and n=1) and then use the recursive formula F(n) = F(n-1) + F(n-2) for all other values.</p>
                        </div>
                        <button id="solution-btn">Show Solution</button>
                        <div id="solution-text" class="solution hidden">
                <pre><code>def fibonacci(n):
    # Base cases
    if n == 0:
        return 0
    if n == 1:
        return 1

    # Recursive case
    return fibonacci(n-1) + fibonacci(n-2)</code></pre>
                            <p>Note: This is the simplest recursive solution, but it's not efficient for large values of n due to repeated calculations.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="common-pitfalls">
            <div class="card">
                <h2>Common Pitfalls</h2>

                <div class="pitfall">
                    <h3>1. Missing Base Case</h3>
                    <div class="code-container">
              <pre><code>def countdown(n):
    print(n)
    # Missing base case!
    countdown(n - 1)</code></pre>
                    </div>
                    <p>Without a base case, this function will run until it causes a stack overflow error.</p>
                    <div class="fix">
                        <h4>Fix:</h4>
                        <pre><code>def countdown(n):
    print(n)
    if n > 0:  # Base case
        countdown(n - 1)</code></pre>
                    </div>
                </div>

                <div class="pitfall">
                    <h3>2. Inefficient Recursive Solutions</h3>
                    <p>The simple recursive Fibonacci implementation recalculates the same values multiple times.</p>
                    <div class="fix">
                        <h4>Better Approach:</h4>
                        <p>Use memoization (caching results) or dynamic programming.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="quiz">
            <div class="card">
                <h2>Test Your Understanding</h2>
                <div id="quiz-container">
                    <div id="question-container">
                        <p id="question-text">What will be the output of this recursive function call: sum_to(4)?</p>
                        <pre id="question-code">def sum_to(n):
    if n == 1:
        return 1
    return n + sum_to(n-1)</pre>
                        <div id="options-container">
                            <label class="option">
                                <input type="radio" name="quiz" value="0">
                                <span>4</span>
                            </label>
                            <label class="option">
                                <input type="radio" name="quiz" value="1">
                                <span>10</span>
                            </label>
                            <label class="option">
                                <input type="radio" name="quiz" value="2">
                                <span>6</span>
                            </label>
                            <label class="option">
                                <input type="radio" name="quiz" value="3">
                                <span>Error: Maximum recursion depth exceeded</span>
                            </label>
                        </div>
                    </div>
                    <div id="feedback-container" class="hidden"></div>
                    <div class="quiz-buttons">
                        <button id="check-btn">Check Answer</button>
                        <button id="next-btn" class="hidden">Next Question</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>Created for CS101: Introduction to Programming | <span id="current-year"></span></p>
    </footer>
</div>

<script src="script.js"></script>
</body>
</html>
